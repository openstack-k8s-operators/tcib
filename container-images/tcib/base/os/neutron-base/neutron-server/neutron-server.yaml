tcib_actions:
- run: dnf -y install {{ tcib_packages['common'] | join(' ') }} && dnf clean all && rm -rf /var/cache/dnf
# TODO(mtomaska): Install python3-neutron-fwaas and python3-tap-as-a-service on all distros once upstream
# CI jobs will be switched to CentOS 10 Stream. At that point, these packages should be fully supported
# on all distros.
- run: if [ '{{ tcib_distro }}' == 'rhel' ]; then dnf -y install python3-neutron-fwaas python3-tap-as-a-service && dnf clean all && rm -rf /var/cache/dnf; fi
- run: sed -i -r 's,^(Listen 80),#\1,' /etc/httpd/conf/httpd.conf  && sed -i -r 's,^(Listen 443),#\1,' /etc/httpd/conf.d/ssl.conf
tcib_packages:
  common:
  - httpd
  - mod_ssl
  - python3-networking-baremetal
  - python3-mod_wsgi
  - python3-networking-generic-switch
tcib_user: neutron
